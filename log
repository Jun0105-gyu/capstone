@app.route("/update_statistics", methods=["POST"])
def update_statistics():
    global elapsed_before_stop
    with lock:
        data = request.get_json()
        h, m, s = map(int, data["time"].split(":"))
        elapsed_before_stop = h * 3600 + m * 60 + s
        today = datetime.now().strftime("%Y-%m-%d")
        save_study_time(today, elapsed_before_stop)
    return "Statistics updated"
